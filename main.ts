namespace SpriteKind {
    export const A = SpriteKind.create()
    export const B = SpriteKind.create()
    export const enemy2 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.B, SpriteKind.enemy2, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
    animation.runImageAnimation(
    player_1,
    assets.animation`stop`,
    80,
    false
    )
    animation.runImageAnimation(
    player_2,
    assets.animation`places0`,
    80,
    false
    )
    timer.after(400, function () {
        music.play(music.createSoundEffect(WaveShape.Triangle, 3228, 3005, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
        health.x += -12
    })
    pause(1000)
    dead += 1
})
sprites.onOverlap(SpriteKind.A, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`a attact`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`stop 2`,
        200,
        false
        )
        timer.after(650, function () {
            music.play(music.createSoundEffect(WaveShape.Sine, 71, 116, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
            health_enemy.x += 12
        })
        pause(1000)
        gg += 1
    } else if (controller.B.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places2`,
        100,
        false
        )
        timer.after(400, function () {
            music.play(music.createSoundEffect(WaveShape.Triangle, 3228, 3005, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
            health.x += -12
        })
        pause(1000)
        dead += 1
    }
})
sprites.onOverlap(SpriteKind.A, SpriteKind.enemy2, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
    animation.runImageAnimation(
    player_1,
    assets.animation`stop`,
    80,
    false
    )
    animation.runImageAnimation(
    player_2,
    assets.animation`places0`,
    80,
    false
    )
    timer.after(400, function () {
        music.play(music.createSoundEffect(WaveShape.Triangle, 3228, 3005, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
        health.x += -12
    })
    pause(1000)
    dead += 1
})
sprites.onOverlap(SpriteKind.B, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (controller.B.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.B, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`b attact`,
        80,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`stop 2`,
        200,
        false
        )
        timer.after(500, function () {
            music.play(music.createSoundEffect(WaveShape.Sine, 71, 116, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
            health_enemy.x += 12
        })
        pause(1000)
        gg += 1
    } else if (controller.A.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.B, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places2`,
        100,
        false
        )
        timer.after(400, function () {
            music.play(music.createSoundEffect(WaveShape.Triangle, 3228, 3005, 255, 255, 200, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
            health.x += -12
        })
        pause(1000)
        dead += 1
    }
})
let copy2: Sprite = null
let copy: Sprite = null
let gg = 0
let dead = 0
let player_2: Sprite = null
let health_enemy: Sprite = null
let health: Sprite = null
let player_1: Sprite = null
scene.setBackgroundImage(assets.image`myImage2`)
player_1 = sprites.create(assets.image`player`, SpriteKind.Player)
let dialogue = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . 3 . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
health = sprites.create(img`
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
health_enemy = sprites.create(img`
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
let light2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
player_2 = sprites.create(assets.image`player 2`, SpriteKind.Player)
let checkpoint = sprites.create(img`
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    `, SpriteKind.Enemy)
let checkpoint2 = sprites.create(img`
    eee444eeeeeeeeeee..
    e44444444eeeeeeee..
    44ee5444444eeeeee..
    44444e444444eeeee..
    444445d444444e444..
    444445d4444e44444..
    ee44444444444e444..
    e444444e4e4444444..
    44d44444444dd4444..
    44d45544e44544444..
    4445d44444e444444..
    44444144444444444..
    e44444e44e4444444..
    e44e4444ff44e4d44..
    eeee4e4ee44444444..
    14eeee4e444e54444..
    4eeeeee4e444dd444..
    ...................
    ...................
    `, SpriteKind.enemy2)
checkpoint.setPosition(120, 16)
checkpoint2.setPosition(140, 16)
dialogue.setPosition(64, 66)
dialogue.sayText("\"when the quaver arrives the staff\"", 1500, true)
pause(1500)
dialogue.sayText("\"Press A to let me show What I can do\"", 1500, false)
pause(1500)
dialogue.sayText("\"and when the quarter rest arrives the staff\"", 1500, true)
pause(1500)
dialogue.sayText("\"Press B instead\"", 1500, false)
game.onUpdateInterval(3900, function () {
    timer.background(function () {
        music.play(music.createSong(assets.song`mortal combat`), music.PlaybackMode.UntilDone)
        music.play(music.randomizeSound(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 150, SoundExpressionEffect.Warble, InterpolationCurve.Linear)), music.PlaybackMode.UntilDone)
        music.play(music.melodyPlayable(music.pewPew), music.PlaybackMode.UntilDone)
        music.play(music.createSong(hex`00780004080200`), music.PlaybackMode.UntilDone)
    })
})
game.onUpdateInterval(2000, function () {
    if (randint(0, 1) == 0) {
        copy = sprites.create(img`
            . . . . . . . . . f f . . . . 
            . . . . . . . . . f f f . . . 
            . . . . . . . . . f f f f . . 
            . . . . . . . . . f . f f f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . f f . 
            . . . . . . . . . f . f f . . 
            . . . . . . . . . f . . . . . 
            . . . . . . . . . f . . . . . 
            . . . f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            f f f f f f f f f . . . . . . 
            . f f f f f f . . . . . . . . 
            `, SpriteKind.A)
        copy.setPosition(-5, 17)
        copy.setVelocity(80, 0)
    } else {
        copy2 = sprites.create(img`
            . . . . f . . . . . . . . . . 
            . . . . . f f . . . . . . . . 
            . . . . . f f f . . . . . . . 
            . . . . . f f f f . . . . . . 
            . . . . . f f f f f f . . . . 
            . . . . f f f f f f . . . . . 
            . . . f f f f f f f . . . . . 
            . . f f f f f f . . . . . . . 
            . . f f f f f f . . . . . . . 
            . . . f f f f . . . . . . . . 
            . . . f f f f . . . . . . . . 
            . . . . f f f f . . . . . . . 
            . . . . . f f f . . . . . . . 
            . . f f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            . f f f f f . . . . f . . . . 
            . f f f f . . . . . . . . . . 
            . . . f f . . . . . . . . . . 
            . . . . f f . . . . . . . . . 
            `, SpriteKind.B)
        copy2.setPosition(-5, 17)
        copy2.setVelocity(80, 0)
    }
})
forever(function () {
    if (gg == 7) {
        game.gameOver(true)
    }
    if (dead == 7) {
        game.gameOver(false)
    }
})
forever(function () {
	
})
